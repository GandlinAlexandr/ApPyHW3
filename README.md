<a name="readme-top"></a>

[![MIT][license-shield]][license-url]
[![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)](https://python.org/)
[!['Black'](https://img.shields.io/badge/code_style-black-black?style=for-the-badge)](https://github.com/psf/black)


  <h1 align="center">–°–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫</h1>

  <p align="center">
    –ü—Ä–æ–µ–∫—Ç –≤ —Ä–∞–º–∫–∞—Ö –¥–æ–º–∞—à–Ω–µ–π —Ä–∞–±–æ—Ç—ã –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ "–ü—Ä–∏–∫–ª–∞–¥–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Python"
  </p>


<details>
  <summary>–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</summary>
  <ol>
    <li>
      <a href="#–æ-–ø—Ä–æ–µ–∫—Ç–µ">–û –ø—Ä–æ–µ–∫—Ç–µ</a>
        <li><a href="#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</a></li>
    </li>
    <li>
      <a href="#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</a>
    </li>
    <ul>
    <li><a href="#–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏">–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</a></li>
    <li><a href="#–Ω–∞—á–∞–ª–æ-—Ä–∞–±–æ—Ç—ã">–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã</a></li>
    <li><a href="#–æ—Å–Ω–æ–≤–Ω—ã–µ-—Ä—É—á–∫–∏-api">–û—Å–Ω–æ–≤–Ω—ã–µ —Ä—É—á–∫–∏ API</a></li>
    <li><a href="#–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–ø—Ä–æ—Å–æ–≤">–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤</a></li></ul>
    <li><a href="#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</a></li></ul>
    <li><a href="#–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ">–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ</a></li>
      <li><a href="#–ª–∏—Ü–µ–Ω–∑–∏—è">–õ–∏—Ü–µ–Ω–∑–∏—è</a></li>
    <li><a href="#–∫–æ–Ω—Ç–∞–∫—Ç—ã">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
  </ol>
</details>


## –û –ø—Ä–æ–µ–∫—Ç–µ


## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Å–ª–µ–¥—É—é—â–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
* [![Docker][DockerBadge]][Docker-url]
* [![Python][Python.org]][Python-url]
  * [![FastAPI][FastAPI-Badge]][FastAPI-url]
* [![Postgres][Postgres-Badge]][Postgres-url]
* [![Redis][Redis-Badge]][Redis-url]


<p align="right">(<a href="#readme-top">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É</a>)</p>

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Docker + Docker Compose
- Python 3.12 (–µ—Å–ª–∏ –∑–∞–ø—É—Å–∫ –≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
- PostgreSQL (—á–µ—Ä–µ–∑ docker-compose)
- Redis (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤)

<p align="right">(<a href="#readme-top">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É</a>)</p>

## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/your/repo.git
cd repo

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
docker compose up --build
```

Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: [http://localhost:8000/docs](http://localhost:8000/docs)

<p align="right">(<a href="#readme-top">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É</a>)</p>

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ä—É—á–∫–∏ API

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- `POST /auth/register` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /auth/jwt/login` ‚Äî –≤—Ö–æ–¥ (JWT)
- `GET /users/me` ‚Äî —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

#### üîó –†–∞–±–æ—Ç–∞ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| `POST` | `/links/shorten` | –°–æ–∑–¥–∞—Ç—å –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π) |
| `POST` | `/links/public` | –°–æ–∑–¥–∞—Ç—å –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É (–∞–Ω–æ–Ω–∏–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å) |
| `GET` | `/{short_code}` | –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ —Å—Å—ã–ª–∫–µ |
| `GET` | `/links/search?original_url=...` | –ü–æ–∏—Å–∫ –ø–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É URL |
| `GET` | `/links/{short_code}/stats` | –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Å—Å—ã–ª–∫–µ |
| `PATCH` | `/links/{short_code}` | –û–±–Ω–æ–≤–∏—Ç—å URL (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü) |
| `DELETE` | `/links/{short_code}` | –£–¥–∞–ª–∏—Ç—å —Å—Å—ã–ª–∫—É (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü) |

### –ê—Ä—Ö–∏–≤ –∏ –∏—Å—Ç–æ—Ä–∏—è

- `GET /links/expired` ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏—Å—Ç–µ–∫—à–∏—Ö/—É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞)

### –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- `GET /links/popular` ‚Äî –¢–æ–ø –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

### –ü—Ä–æ–µ–∫—Ç—ã

- `POST /projects` ‚Äî –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
- `GET /projects/full` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã —Å –∏—Ö —Å—Å—ã–ª–∫–∞–º–∏

<p align="right">(<a href="#readme-top">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É</a>)</p>


## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π)

```bash
curl -X POST "http://localhost:8000/links/shorten?original_url=https://google.com"  -H "Authorization: Bearer <TOKEN>"
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ (–∞–Ω–æ–Ω–∏–º–Ω—ã–π)

```bash
curl -X POST "http://localhost:8000/links/public?original_url=https://google.com"
```

### –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

```bash
curl http://localhost:8000/links/abc123/stats
```

### –ü–æ–∏—Å–∫ –ø–æ URL

```bash
curl http://localhost:8000/links/search?original_url=https://google.com
```

### –í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã —Å —Å—Å—ã–ª–∫–∞–º–∏

```bash
curl -H "Authorization: Bearer <TOKEN>" http://localhost:8000/projects/full
```

<p align="right">(<a href="#readme-top">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É</a>)</p>

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `user`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| email | str | –ü–æ—á—Ç–∞ |
| hashed_password | str | –ü–∞—Ä–æ–ª—å |
| ... | ... | ... |

### –¢–∞–±–ª–∏—Ü–∞ `links`

| –ü–æ–ª–µ | –¢–∏–ø |
|------|-----|
| id | int |
| original_url | str |
| short_code | str |
| created_at | datetime |
| expires_at | datetime, optional |
| access_count | int |
| last_accessed_at | datetime |
| owner_id | UUID, optional |
| project_id | int, optional |

### –¢–∞–±–ª–∏—Ü–∞ `expired_links`

–•—Ä–∞–Ω–∏—Ç –∏—Å—Ç–µ–∫—à–∏–µ –∏–ª–∏ —É–¥–∞–ª—ë–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

### –¢–∞–±–ª–∏—Ü–∞ `projects`

–ü–æ–∑–≤–æ–ª—è–µ—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.

<p align="right">(<a href="#readme-top">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É</a>)</p>

## –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

- Redis –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –ø–æ short_code (1 —á–∞—Å).
- –ö—ç—à –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Å—ã–ª–æ–∫.

<p align="right">(<a href="#readme-top">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É</a>)</p>

## –õ–∏—Ü–µ–Ω–∑–∏—è

–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ –ª–∏—Ü–µ–Ω–∑–∏–∏ MIT. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å–º. –≤ —Ñ–∞–π–ª–µ [`LICENSE`][license-url].

<p align="right">(<a href="#readme-top">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É</a>)</p>

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ì–∞–Ω–¥–ª–∏–Ω –ê–ª–µ–∫—Å–∞–Ω–¥—Ä - [Stepik](https://stepik.org/users/79694206/profile)

–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç: [https://github.com/GandlinAlexandr/ApPyHW2](https://github.com/GandlinAlexandr/ApPyHW3)

<p align="right">(<a href="#readme-top">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É</a>)</p>

[FastAPI-Badge]: https://img.shields.io/badge/FastAPI-005571?style=for-the-badge&logo=fastapi
[FastAPI-url]: https://fastapi.tiangolo.com/

[Postgres-Badge]: https://img.shields.io/badge/postgres-%23316192.svg?style=for-the-badge&logo=postgresql&logoColor=white
[Postgres-url]: https://www.postgresql.org/

[license-shield]: https://img.shields.io/github/license/GandlinAlexandr/ApPyHW3.svg?style=for-the-badge
[license-url]: https://github.com/GandlinAlexandr/ApPyHW3/blob/main/LICENSE

[DockerBadge]: https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white
[Docker-url]: https://www.docker.com/

[Python-url]: https://python.org/
[Python.org]: https://img.shields.io/badge/Python-FFD43B?style=for-the-badge&logo=python&logoColor=blue

[Redis-Badge]: https://img.shields.io/badge/redis-%23DD0031.svg?style=for-the-badge&logo=redis&logoColor=white
[Redis-url]: https://redis.io/
